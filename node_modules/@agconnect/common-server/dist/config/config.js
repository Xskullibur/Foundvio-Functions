"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Configuration = void 0;
var error_1 = require("../error/error");
var error_message_1 = require("../error/error-message");
var utils_1 = require("../utils/utils");
var common_log_1 = require("../log-config/common-log");
var fs_1 = __importDefault(require("fs"));
var path_1 = __importDefault(require("path"));
var Configuration = /** @class */ (function () {
    function Configuration() {
    }
    Configuration.getConfiguration = function (url, configurationKey) {
        utils_1.voilidatePath(url);
        try {
            var data = fs_1.default.readFileSync(url, 'utf8');
            var obj = JSON.parse(data);
            common_log_1.logger.info('step into Configuration getConfiguration readfile and file length=' + data.length);
            return obj[configurationKey];
        }
        catch (e) {
            throw new error_1.AGCError(error_message_1.ErrorCodeConstant.FS_READ_FAIL);
        }
    };
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    Configuration.getCommonConfiguration = function (configurationKey) {
        common_log_1.logger.info('step into getCommonConfiguration readfile and key =' + configurationKey);
        return Configuration.getConfiguration(path_1.default.join(__dirname, './../../agconnect-common.json'), configurationKey);
    };
    return Configuration;
}());
exports.Configuration = Configuration;
